<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <title>断言 (assert) Node.js v0.10.18 文档 中文版</title>
  <link rel="stylesheet" href="/public/api_assets/style.css">
  <link rel="stylesheet" href="/public/api_assets/sh.css">
  <link rel="canonical" href="http://nodejs.org/api/assert.html">
</head>
<body class="alt apidoc" id="api-section-assert">

    <div id="intro" class="interior">
        <a href="/api/" title="返回首页">
            <img id="logo" src="http://nodejs.org/images/logo-light.png" alt="node.js">
        </a>
    </div>
    <div id="content" class="clearfix">
        <div id="column2" class="interior">
            <ul>
                <li><a href="/api/" class="docs current">文档首页</a></li>
                <li><a href="http://nodejs.org/api/">英文版文档</a></li>
            </ul>
            <div style="margin-top:44px; font-size:12px;">
              <a rel="license" href="http://creativecommons.org/licenses/by-nc/3.0/deed.zh"><img alt="知识共享许可协议" style="border-width:0" src="http://i.creativecommons.org/l/by-nc/3.0/88x31.png" /></a><br />本作品采用<a rel="license" href="http://creativecommons.org/licenses/by-nc/3.0/deed.zh">知识共享署名-非商业性使用 3.0 未本地化版本许可协议</a>进行许可。
            </div>
        </div>

        <div id="column1" class="interior">
          <header>
            <h1>Node.js v0.10.18 手册 &amp; 文档</h1>
            <div id="gtoc">
              <p>
                <a href="index.html" name="toc">索引</a> |
                <a href="all.html">在单一页面中浏览</a> |
                <a href="assert.json">JSON格式</a>
              </p>
            </div>
            <hr>
          </header>

          <div id="toc">
            <h2>目录</h2>
            <ul>
<li><a href="#assert_assert_2139">断言 (assert)</a><ul>
<li><a href="#assert_assert_fail_actual_expected_message_operator_2139">assert.fail(actual, expected, message, operator)</a></li>
<li><a href="#assert_assert_value_message_assert_ok_value_message_2139">assert(value, message), assert.ok(value, [message])</a></li>
<li><a href="#assert_assert_equal_actual_expected_message_2139">assert.equal(actual, expected, [message])</a></li>
<li><a href="#assert_assert_notequal_actual_expected_message_2139">assert.notEqual(actual, expected, [message])</a></li>
<li><a href="#assert_assert_deepequal_actual_expected_message_2139">assert.deepEqual(actual, expected, [message])</a></li>
<li><a href="#assert_assert_notdeepequal_actual_expected_message_2139">assert.notDeepEqual(actual, expected, [message])</a></li>
<li><a href="#assert_assert_strictequal_actual_expected_message_2139">assert.strictEqual(actual, expected, [message])</a></li>
<li><a href="#assert_assert_notstrictequal_actual_expected_message_2139">assert.notStrictEqual(actual, expected, [message])</a></li>
<li><a href="#assert_assert_throws_block_error_message_2139">assert.throws(block, [error], [message])</a></li>
<li><a href="#assert_assert_doesnotthrow_block_message_2139">assert.doesNotThrow(block, [message])</a></li>
<li><a href="#assert_assert_iferror_value_2139">assert.ifError(value)</a></li>
</ul>
</li>
</ul>

          </div>

          <div id="apicontent">
            <div class="translate-section" data-hash="de0042d5fecb76b86f8687cba714860b">

<h1>断言 (assert)<span><a href="#assert_assert_2139" id="assert_assert_2139">#</a></span></h1>
</div>

<div class="translate-section" data-hash="1832a6bdec37a3991495a83f92b71e51">

<pre><code>稳定度: 5 - 已锁定</code></pre>
</div>

<div class="translate-section" data-hash="9a78605bf4ef4609f30da4be5845801b">

<p>该模块用于编写程序的单元测试用例，通过require(&apos;assert&apos;)调用

</p>
</div>

<div class="translate-section" data-hash="36e3b38982b6677e8ce9ec72348679b7">

<h2>assert.fail(actual, expected, message, operator)<span><a href="#assert_assert_fail_actual_expected_message_operator_2139" id="assert_assert_fail_actual_expected_message_operator_2139">#</a></span></h2>
</div>

<div class="translate-section" data-hash="124e35b7bec492000183df6bb0960346">

<p>抛出一个异常，显示用例的实际值(actual)和期望值（expected），通过分隔符（operator）隔开。

</p>
</div>

<div class="translate-section" data-hash="fe0ab762001b750f0c78e02ec8745779">

<h2>assert(value, message), assert.ok(value, [message])<span><a href="#assert_assert_value_message_assert_ok_value_message_2139" id="assert_assert_value_message_assert_ok_value_message_2139">#</a></span></h2>
</div>

<div class="translate-section" data-hash="62b510624ba440f6129784852f933690">

<p>测试结果是否为真（true），相当于 <code>assert.equal(true, !!value, message);</code>

</p>
</div>

<div class="translate-section" data-hash="67f2e7baf063d6a3fb4e1300018f1f71">

<h2>assert.equal(actual, expected, [message])<span><a href="#assert_assert_equal_actual_expected_message_2139" id="assert_assert_equal_actual_expected_message_2139">#</a></span></h2>
</div>

<div class="translate-section" data-hash="b4116600c37d22f7ce4bce6ae6fe26a3">

<p>浅测试，等同于使用&apos;==&apos;进行相等判断

</p>
</div>

<div class="translate-section" data-hash="6bf99ae5f42c48d7ff6be9fea369c10b">

<h2>assert.notEqual(actual, expected, [message])<span><a href="#assert_assert_notequal_actual_expected_message_2139" id="assert_assert_notequal_actual_expected_message_2139">#</a></span></h2>
</div>

<div class="translate-section" data-hash="995aa6ae001a6c03ec1e0291ff3e7c5e">

<p>浅测试，等同于使用&apos;！=&apos;进行不相等判断

</p>
</div>

<div class="translate-section" data-hash="25997e888f1bfadc401be61675767e4f">

<h2>assert.deepEqual(actual, expected, [message])<span><a href="#assert_assert_deepequal_actual_expected_message_2139" id="assert_assert_deepequal_actual_expected_message_2139">#</a></span></h2>
</div>

<div class="translate-section" data-hash="ccc4faa7d011abc96c822aefffac9bb7">

<p>深度匹配测试

</p>
</div>

<div class="translate-section" data-hash="cf9de522e8ba458cba7bd5c082111479">

<h2>assert.notDeepEqual(actual, expected, [message])<span><a href="#assert_assert_notdeepequal_actual_expected_message_2139" id="assert_assert_notdeepequal_actual_expected_message_2139">#</a></span></h2>
</div>

<div class="translate-section" data-hash="cfc51a2891368f11f5a61e0307f9b084">

<p>非深度匹配测试

</p>
</div>

<div class="translate-section" data-hash="31678da16e6b406f64ba685d05fafb62">

<h2>assert.strictEqual(actual, expected, [message])<span><a href="#assert_assert_strictequal_actual_expected_message_2139" id="assert_assert_strictequal_actual_expected_message_2139">#</a></span></h2>
</div>

<div class="translate-section" data-hash="10be43088169ba1dd5def17b54362557">

<p>严格相等匹配测试，等同用&apos;===&apos;判断匹配

</p>
</div>

<div class="translate-section" data-hash="fe8fb0b68153afe027a03d82374826b7">

<h2>assert.notStrictEqual(actual, expected, [message])<span><a href="#assert_assert_notstrictequal_actual_expected_message_2139" id="assert_assert_notstrictequal_actual_expected_message_2139">#</a></span></h2>
</div>

<div class="translate-section" data-hash="8201ed5a0abc4de3bd9654d3ff4230ff">

<p>不严格相等测试，等同于使用&apos;!==&apos;判断不匹配

</p>
</div>

<div class="translate-section" data-hash="9ba0dc72de93b728732f765ea69e6f23">

<h2>assert.throws(block, [error], [message])<span><a href="#assert_assert_throws_block_error_message_2139" id="assert_assert_throws_block_error_message_2139">#</a></span></h2>
</div>

<div class="translate-section" data-hash="2896ed88bd59c90bba93066737d5c97c">

<p>声明一个block用于抛出错误，&apos;error&apos;可以是构造函数，验证函数或者正则表达式

</p>
</div>

<div class="translate-section" data-hash="a490fffe326e96bb9ff166c1eddd4196">

<p>用构造函数验证实例

</p>
</div>

<div class="translate-section" data-hash="ad7afd111793722ca060b18fea65379f">

<pre><code>assert.throws(
  function() {
    throw new Error(&quot;Wrong value&quot;);
  },
  Error
);</code></pre>
</div>

<div class="translate-section" data-hash="e51abde8506389e4bf79217e46c5f83a">

<p>用正则表达式验证信息错误

</p>
</div>

<div class="translate-section" data-hash="99aa35ddbf39e77f1ca7db0874a27cd7">

<pre><code>assert.throws(
  function() {
    throw new Error(&quot;Wrong value&quot;);
  },
  /value/
);</code></pre>
</div>

<div class="translate-section" data-hash="9bdab646d14b4d92159ba2b02912ed7f">

<p>自定义错误校验：

</p>
</div>

<div class="translate-section" data-hash="b3212e3b4163de68164020646ed50372">

<pre><code>assert.throws(
  function() {
    throw new Error(&quot;Wrong value&quot;);
  },
  function(err) {
    if ( (err instanceof Error) &amp;&amp; /value/.test(err) ) {
      return true;
    }
  },
  &quot;unexpected error&quot;
);</code></pre>
</div>

<div class="translate-section" data-hash="a0c97c0e5ce31cccd9d7ef2107558878">

<h2>assert.doesNotThrow(block, [message])<span><a href="#assert_assert_doesnotthrow_block_message_2139" id="assert_assert_doesnotthrow_block_message_2139">#</a></span></h2>
</div>

<div class="translate-section" data-hash="a7d63c8c636c1de1cd757297bd9dfcd1">

<p>声明模块不抛出错误，详见 assert.throws

</p>
</div>

<div class="translate-section" data-hash="16aaa4f984706d21bfb663897a5aeaf9">

<h2>assert.ifError(value)<span><a href="#assert_assert_iferror_value_2139" id="assert_assert_iferror_value_2139">#</a></span></h2>
</div>

<div class="translate-section" data-hash="620cc15657f58f460c14a66a1f108ef6">

<p>测试值是否不为 false，当为 true 时抛出。常用于回调中第一个 error 参数的检查。

</p>
</div>
          </div>
        </div>
    </div>
    <div id="footer">
        <a href="http://joyent.com" class="joyent-logo">Joyent</a>
        <ul class="clearfix">
            <li><a href="http://nodejs.org/">Node.js</a></li>
            <li><a href="http://nodejs.org/download/">Download</a></li>
            <li><a href="http://nodejs.org/about/">About</a></li>
            <li><a href="http://npmjs.org/">npm Registry</a></li>
            <li><a href="http://nodejs.org/api/">Docs</a></li>
            <li><a href="http://blog.nodejs.org">Blog</a></li>
            <li><a href="http://nodejs.org/community/">Community</a></li>
            <li><a href="http://nodejs.org/logos/">Logos</a></li>
            <li><a href="http://jobs.nodejs.org/">Jobs</a></li>
            <li><a href="http://twitter.com/nodejs" class="twitter">@nodejs</a></li>
        </ul>

        <p>Copyright <a href="http://joyent.com/">Joyent, Inc</a>, Node.js is a <a href="/trademark-policy.pdf">trademark</a> of Joyent, Inc. View <a href="https://raw.github.com/joyent/node/v0.10.18/LICENSE">license</a>.</p>
    </div>

  <script src="/public/api_assets/sh_main.js"></script>
  <script src="/public/api_assets/sh_javascript.min.js"></script>
  <script>highlight(undefined, undefined, 'pre');</script>
</body>
</html>

<!-- google analytics -->
<script type="text/javascript">
  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-26599868-1']);
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();
</script>

<script src="/public/js/jquery.js"></script>
<script>
$('.translate-section').each(function () {
  var html = '<div class="op">' +
               '<button class="show-origin">显示原文</button>' +
               '<button class="btn btn-xs btn-info">其他翻译</button>' +
               '<button class="btn btn-xs btn-info">纠错</button>' +
              '</div>';
  $(this).prepend(html);
});

// 显示原文
$('.translate-section').delegate('.show-origin', 'click', function () {
  var $section = $(this).closest('.translate-section');
  var hash = $section.data('hash');
  $.get('/translate/get/origin', {hash: hash}, function (d) {
    if (d.error) return alert(d.error);

    $section.find('.origin').remove();
    $section.append('<div class="origin">' + d.html + '</div>');
    highlight(undefined, undefined, 'code');
  });
});
</script>