window.isIndex=!0,seajs.config({alias:{_TouchSlide:"http://resource.a0bi.com/doudou/plugin/TouchSlide.1.1.js","game-list":"http://resource.a0bi.com/doudou/v2/script/game-list.js",util:"http://resource.a0bi.com/doudou/v2/script/util.js"}}),define("TouchSlide",function(t,i,s){t("_TouchSlide"),s.exports=TouchSlide}),seajs.use(["common","jquery","TouchSlide"],function(t,i,s){var e=i("#banner");e.find(".bd li").length>0&&(s({slideCell:"#banner",titCell:".hd ul",mainCell:".bd ul",effect:"leftLoop",autoPage:!0,autoPlay:!0}),e.on("click",".pic",function(){return window.DDInnerJS?(t.location(i(this).attr("href")),!1):!0})),e.removeClass("hide").resize()}),seajs.use(["common","util","game-list","jquery"],function(t,i,s,e){var a=function(){this.init.apply(this,arguments)};a.prototype={init:function(t,s,a){this.$root=e(t),this.id=s||"gameList",a=a||3,this.ctrs={};for(var n="",o=0;a>o;o++){var l={id:this.id,index:o,className:"hide"};n+=i.format(this.tmp,l)}this.$root.html(n)},tmp:'<div id="${id}${index}" class="animate2 gameList ${className}">				<ul class="list"></ul>				<div class="clear"></div>				<div class="tC"><div class="loading">点击加载更多</div></div>				<div class="pager hide"></div>			</div>',initDataByIndexAndType:function(t,i){var e=this.$root.find("#"+this.id+t);if(0>=e)return this;var a=this.ctrs[t];a||(a=this.ctrs[t]=new s({root:"#"+this.id+t,needDesc:!0},{type:1,categoryId:0,gameType:i}))},show:function(t,i){var s,a=typeof t;s="number"==a?e("#"+this.id+t):"string"==a?e(a):t,i?(this.$last&&this.$last.addClass("hide"),s.removeClass("hide").css({left:0})):this.tabSwitch(s,this.$last||s),this.$last=s},tabSwitch:function(t,i){var s=t.index(),e=i.index();return s==e?void t.removeClass("hide").css({left:0}):(s>e?(i.css({left:"-100%"}),t.css({left:"100%"})):(i.css({left:"100%"}),t.css({left:"-100%"})),void setTimeout(function(){i.addClass("hide"),t.removeClass("hide"),setTimeout(function(){t.css({left:0})},50)},320))}};var n=e("#nav"),o=(e("#gameList"),e("#classify")),l=new a("#gameList","gameList",3);l.$root.append(o),n.on("click",".item",function(){var t=e(this),i=t.data("type")+"";if(t.attr("active"))return!1;switch(i){case"0":case"1":case"2":l.initDataByIndexAndType(i,i),l.show(+i);break;case"classify":l.show(o)}t.attr("active",1).siblings("[active]").removeAttr("active"),window.location.hash="#tab="+("classify"==i?"3":i)});var d=i.urlhash("tab")||"0";"0"!=d?n.find(".item").eq(d).click():(l.initDataByIndexAndType(0,0),l.show(0)),o.on("click",".list li",i.delay(function(){var t=e(this).data("link");return t?void i.openWindow(t):!1}))}),seajs.use(["jquery","util"],function(t,i){var s=function(){this.init.apply(this,arguments)};s.prototype={init:function(i,s){this.cnf=t.extend({title:"我玩过的游戏",saveKey:"ddplayedlist",autoHidden:!0},s),this.$root="string"==typeof i?t(i):i,this.$root.html('				<p class="title">'+this.cnf.title+'</p>				<ul class="list"></ul>				<div class="clear"></div>			'),this.$list=this.$root.find(".list"),this.bindUI()},bindUI:function(){var t=!1,s=[];if(s=window.localStorage&&window.localStorage.getItem?window.localStorage.getItem("ddplayedlist"):i.getCookie("ddplayedlist"),s=this.tryToParseList(s),s.length>0){for(var e in s){var a=s[e]||"",n=a.split("#");this.formateListItem(n)}this.bindEvent()}else t=!0;t&&this.cnf.autoHidden&&this.$root.css("display","none")},bindEvent:function(){this.$list.on("click",".item",i.delay(function(){var t=this.getAttribute("link");t&&(window.top.location=t)}))},tryToParseList:function(t){var i=[];try{i=JSON.parse(t)||[]}catch(s){}return i},formateListItem:function(s){if(s){var e='<li link="http://www.doudou.in/play/${link}/" class="item">${title}</li>',a=i.format(e,{link:s[1],title:s[0]}),a=t(a);this.$list.append(a)}}};new s("#playHistroy")});