window.onerror=function(){},seajs.config({alias:{_jquery:"http://resource.a0bi.com/resource/js/lib/zepto.min.all",_in:"http://resource.a0bi.com/resource/js/nav/in-min",util:"http://resource.a0bi.com/doudou/v2/script/util.js",user:"http://resource.a0bi.com/doudou/v2/script/user.js",ddWeixin:"http://resource.a0bi.com/doudou/plugin/ddWeixin.min.js",user_for_weixin:"http://resource.a0bi.com/doudou/v2/script/user_for_weixin.js"}}),define("jquery",["_jquery"],function(e,t,n){e("_jquery");n.exports=window.Zepto});var ddReadyEvent="baseAuthorToolIsReady";seajs.use("ddWeixin",function(e){e.autoOpenId("wxf91bab01569cc168",{appType:1,isDebug:!1}).done(function(e){console.log("授权成功"),e?seajs.use("user_for_weixin",function(){seajs.use("nav"),seajs.emit(window.ddReadyEvent)}):(seajs.use("nav"),seajs.emit(window.ddReadyEvent))}).fail(function(){alert("微信公众号信息获取失败..")})}),define("common",function(e,t,n){var o={},i=e("jquery");n.exports=o,o.isTouchEnv=/mobile/i.test(navigator.userAgent)&&("createTouch"in document||"ontouchstart"in window),o.addClickEvent=o.isTouchEnv?function(){var e=arguments,t=e[0],n=e[1],o=e[2];"function"==i.type(n)&&(n=null,o=e[1]),t.on("touchstart",n,function(){return i(this).attr("active",!0),!1}).on("touchend",n,function(e){var t=this,n=i(this);setTimeout(function(){n.attr("active")&&(n.removeAttr("active"),o.call(t,e))},200)})}:function(){var e=arguments,t=e[0],n=e[1],o=e[2];"function"==i.type(n)&&(n=null,o=e[1]),t.on("click",n,function(e){var t=this,n=i(this);n.attr("active")||(n.attr("active",!0),setTimeout(function(){n.removeAttr("active"),o.call(t,e)},200))})},o.removeClickEvent=function(){var e=arguments,t=e[0],n=e[1];t.off("touchstart",n).off("touchend",n).off("click",n)},o.scrollTo=function(e,t){var n=window.scrollY,o=e,i=new Date,a=t||120,r=setInterval(function(){var e=new Date,t=e-i;if(t>=a||!a)return clearInterval(r),void window.scrollTo(0,o);var c=n+(o-n)*t/a;window.scrollTo(0,c)},4)},o.navigatorType={WX:"weixin",APP:"doudou",PC:"pc",WAP:"mobile"},o.navigator=function(e,t){var n=o.navigatorType;return/mobile|Mobile/g.test(t.userAgent)?/MicroMessenger/i.test(t.userAgent)?n.WX:e.DDInnerJS?n.APP:n.WAP:e.DDInnerJS?n.APP:n.PC}(window,navigator),o.origin=location.protocol+"//"+location.host}),define("nav",function(e,t,n){function o(e,t){if(f[e]=c.extend({},f[e],t),t&&t.css){var n=t.css;switch(c.type(n)){case"string":f._css[n]=1;break;case"array":for(var o=0,i=n.length;i>o;o++)f._css[n[o]]=1}delete f[e].css}}function i(){var e=f._css,t=document.head||document.getElementsByTagName("head")[0];f._css={};var n=document.createElement("link");n.rel="stylesheet";for(var o in e){var i=n.cloneNode();i.href=o,t.appendChild(i)}var r=d,s=c(r.root);s.html('<div id="headerLeft"></div><div id="headerCenter">标题</div><div id="headerRight"></div>');var u=s.find(r.rootLeft),l=s.find(r.rootRight),v=s.find(r.rootCenter);a(u,r.left),a(l,r.right),a(v,r.center)}function a(e,t){e.empty();for(var n=0,o=t.length;o>n;n++){var i,a=t[n].split("#");if(i=a.length>1?f[a[0]]:f[t[n]]){var r;if(i.param&&a.length>1)for(var s=a.slice(1),n=0,o=i.param.length;o>n;n++){var u=(i.param[n],s[n]);r=i.html.replace(/\${[^}]*}/g,function(){return u||""})}else r=i.html;var l=c(r).appendTo(e);i.click&&(v?!function(e,t){e.on("touchstart",function(){var e=c(this);return e.attr(d.active.split("#")[0],!0),!0}).on("touchend",function(e){var n=d.active.split("#"),o=c(this);if(o.attr(n[0]))return setTimeout(function(){o.removeAttr(n[0]),t.click.call(this,e)},+n[1]),!1})}(l,i):!function(e,t){e.on("click",function(e){return t.click.call(this,e),!1})}(l,i))}}}function r(e){d=c.extend(d,e||{})}var c=e("jquery"),s=e("common"),u=e("util"),l=e("user");console.log(l,"Yonghu");var d=c.extend({root:"#header",active:"active#200",rootLeft:"#headerLeft",rootRight:"#headerRight",rootCenter:"#headerCenter",left:["home","return"],center:[],right:["make","user","refresh"]},window.NavCF||{}),v=/mobile/i.test(navigator.userAgent)&&("createTouch"in document||"ontouchstart"in window),f={_css:{}};o("home",{html:'<a href="http://www.doudou.in/" class="navHome">豆豆游戏</a>',click:function(){return window.isIndex?!1:void(window.top.location="/")}}),o("return",{html:'<a href="javascript:;" class="navBtn navReturn">返回</a>',click:function(){return window.DDInnerJS?DDInnerJS.goback():history.go(-1),!1}}),o("refresh",{html:'<a href="javascript:;" class="navBtn navRefresh">刷新</a>',click:function(){location.reload()}}),o("title",{html:'<a href="javascript:;" class="navBtn navTitle">${name}</a>',param:["name"],click:function(){location.reload()}}),o("make",{html:'<a href="javascript:;" class="navBtn navMake">制作游戏</a>',click:function(){return u.openWindow("/tougao/templateList.html"),!1}}),o("user",{html:'<a href="javascript:;" class="navBtn navUser">个人中心</a>',click:function(){return l.afterCheckLogin(function(){u.openWindow("/uc/usercenter.html")},function(){s.navigator==s.navigatorType.WX?alert("未能正确获取用户信息"):l.showLogin()}),!1}}),i(),n.exports={add:o,init:i,reset:r}}),seajs.use(["common","jquery"],function(e,t){t(window).resize(function(){var e=t("html"),n=e.width();n>720&&(n=720);var o=12*n/320;e.css("font-size",o)}).resize();var n="";n=e.navigator==e.navigatorType.WX?"http://mp.weixin.qq.com/s?__biz=MzA5Nzk2OTIxNw==&mid=201099443&idx=1&sn=00a1d77cf1458023761bc403ec59b1d5#rd":"/play/weixin.html ";var o='<div class="fWrp"><div class="copyright">© doudou.in</div><div class="linkwp"><a href="/play/cooperate.html" class="link">联系我们</a><a href="'+n+'"  class="link">关注我们</a>'+(e.navigator==e.navigatorType.APP?"":'<a href="http://www.doudou.in/play/download.html"  class="link">客户端<em class="hot"></em></a>')+"</div></div>";t("#footer").append(o)}),seajs.on(ddReadyEvent,function(){seajs.use(["user"],function(e){e.checkLogin()}),seajs.use(["common","util"],function(e,t){var n=e.navigator;n==e.navigatorType.PC||n==e.navigatorType.WAP?t.css(".navUser{display:none;}"):n==e.navigatorType.APP&&t.css(".navUser,.navMake{display:none;}"),e.navigator!=e.navigatorType.APP&&seajs.use(["http://resource.a0bi.com/doudou/v2/script/DDdownload.js"],function(){})})}),window.DDInnerJS&&window.DDInnerJS.initPage&&window.DDInnerJS.initPage(1);