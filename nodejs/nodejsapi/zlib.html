<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <title>Zlib Node.js v0.10.18 文档 中文版</title>
  <link rel="stylesheet" href="/public/api_assets/style.css">
  <link rel="stylesheet" href="/public/api_assets/sh.css">
  <link rel="canonical" href="http://nodejs.org/api/zlib.html">
</head>
<body class="alt apidoc" id="api-section-zlib">

    <div id="intro" class="interior">
        <a href="/api/" title="返回首页">
            <img id="logo" src="http://nodejs.org/images/logo-light.png" alt="node.js">
        </a>
    </div>
    <div id="content" class="clearfix">
        <div id="column2" class="interior">
            <ul>
                <li><a href="/api/" class="docs current">文档首页</a></li>
                <li><a href="http://nodejs.org/api/">英文版文档</a></li>
            </ul>
            <div style="margin-top:44px; font-size:12px;">
              <a rel="license" href="http://creativecommons.org/licenses/by-nc/3.0/deed.zh"><img alt="知识共享许可协议" style="border-width:0" src="http://i.creativecommons.org/l/by-nc/3.0/88x31.png" /></a><br />本作品采用<a rel="license" href="http://creativecommons.org/licenses/by-nc/3.0/deed.zh">知识共享署名-非商业性使用 3.0 未本地化版本许可协议</a>进行许可。
            </div>
        </div>

        <div id="column1" class="interior">
          <header>
            <h1>Node.js v0.10.18 手册 &amp; 文档</h1>
            <div id="gtoc">
              <p>
                <a href="index.html" name="toc">索引</a> |
                <a href="all.html">在单一页面中浏览</a> |
                <a href="zlib.json">JSON格式</a>
              </p>
            </div>
            <hr>
          </header>

          <div id="toc">
            <h2>目录</h2>
            <ul>
<li><a href="#zlib_zlib_552">Zlib</a><ul>
<li><a href="#zlib_2760">例子</a></li>
<li><a href="#zlib_zlib_creategzip_options_552">zlib.createGzip([options])</a></li>
<li><a href="#zlib_zlib_creategunzip_options_552">zlib.createGunzip([options])</a></li>
<li><a href="#zlib_zlib_createdeflate_options_552">zlib.createDeflate([options])</a></li>
<li><a href="#zlib_zlib_createinflate_options_552">zlib.createInflate([options])</a></li>
<li><a href="#zlib_zlib_createdeflateraw_options_552">zlib.createDeflateRaw([options])</a></li>
<li><a href="#zlib_zlib_createinflateraw_options_552">zlib.createInflateRaw([options])</a></li>
<li><a href="#zlib_zlib_createunzip_options_552">zlib.createUnzip([options])</a></li>
<li><a href="#zlib_zlib_zlib_552">类: zlib.Zlib</a><ul>
<li><a href="#zlib_zlib_flush_kind_callback_552">zlib.flush([kind], callback)</a></li>
<li><a href="#zlib_zlib_params_level_strategy_callback_552">zlib.params(level, strategy, callback)</a></li>
<li><a href="#zlib_zlib_reset_552">zlib.reset()</a></li>
</ul>
</li>
<li><a href="#zlib_zlib_gzip_552">类: zlib.Gzip</a></li>
<li><a href="#zlib_zlib_gunzip_552">类: zlib.Gunzip</a></li>
<li><a href="#zlib_zlib_deflate_552">类: zlib.Deflate</a></li>
<li><a href="#zlib_zlib_inflate_552">类: zlib.Inflate</a></li>
<li><a href="#zlib_zlib_deflateraw_552">类: zlib.DeflateRaw</a></li>
<li><a href="#zlib_zlib_inflateraw_552">类: zlib.InflateRaw</a></li>
<li><a href="#zlib_zlib_unzip_552">类: zlib.Unzip</a></li>
<li><a href="#zlib_2761">快捷方法</a></li>
<li><a href="#zlib_zlib_deflate_buf_options_callback_552">zlib.deflate(buf, [options], callback)</a></li>
<li><a href="#zlib_zlib_deflateraw_buf_options_callback_552">zlib.deflateRaw(buf, [options], callback)</a></li>
<li><a href="#zlib_zlib_gzip_buf_options_callback_552">zlib.Gzip(buf, [options], callback)</a></li>
<li><a href="#zlib_zlib_gunzip_buf_options_callback_552">zlib.gunzip(buf, [options], callback)</a></li>
<li><a href="#zlib_zlib_inflate_buf_options_callback_552">zlib.inflate(buf, [options], callback)</a></li>
<li><a href="#zlib_zlib_inflateraw_buf_options_callback_552">zlib.inflateRaw(buf, [options], callback)</a></li>
<li><a href="#zlib_zlib_unzip_buf_options_callback_552">zlib.unzip(buf, [options], callback)</a></li>
<li><a href="#zlib_2762">选项</a></li>
<li><a href="#zlib_2763">内存使用调优</a></li>
<li><a href="#zlib_2764">常量</a></li>
</ul>
</li>
</ul>

          </div>

          <div id="apicontent">
            <div class="translate-section" data-hash="bf0bfd7d0f3669d09195e41b4edc4562">

<h1>Zlib<span><a href="#zlib_zlib_552" id="zlib_zlib_552">#</a></span></h1>
</div>

<div class="translate-section" data-hash="399d2125371b1bed03f110e3be489c63">

<pre><code>稳定度: 3 - 稳定</code></pre>
</div>

<div class="translate-section" data-hash="c76ce3986104b565ff5b24a734445f1e">

<p>你可以这样引入此模块：

</p>
</div>

<div class="translate-section" data-hash="244538edee3295fa713f30db3599d311">

<pre><code>var zlib = require(&apos;zlib&apos;);</code></pre>
</div>

<div class="translate-section" data-hash="7ab21ad8c660c73d6286ad31cb3fced8">

<p>这个模块提供了对Gzip/Gunzip, Deflate/Inflate和DeflateRaw/InflateRaw类的绑定。每一个类都可以接收相同的选项，并且本身也是一个可读写的Stream类。

</p>
</div>

<div class="translate-section" data-hash="e57da1656ead1413f55464d7577686d2">

<h2>例子<span><a href="#zlib_2760" id="zlib_2760">#</a></span></h2>
</div>

<div class="translate-section" data-hash="f17765c2afb7f32a5db229b47203c228">

<p>压缩或解压缩一个文件可以通过导流一个 fs.ReadStream 到一个 zlib 流，然后到一个 fs.WriteStream 来完成。

</p>
</div>

<div class="translate-section" data-hash="a4b9196ab63c2b6f1adebaf80f326c22">

<pre><code>inp.pipe(gzip).pipe(out);</code></pre>
</div>

<div class="translate-section" data-hash="69534a29b06933babf22f79fe73962db">

<p>一步压缩或解压缩数据可以通过快捷方法来完成。

</p>
</div>

<div class="translate-section" data-hash="3727cf4c963ef4101f94c6ccd9b17fef">

<pre><code>var buffer = new Buffer(&apos;eJzT0yMAAGTvBe8=&apos;, &apos;base64&apos;);
zlib.unzip(buffer, function(err, buffer) {
  if (!err) {
    console.log(buffer.toString());
  }
});</code></pre>
</div>

<div class="translate-section" data-hash="0d3946630c95fa80318a6265ecf45c43">

<p>要在 HTTP 客户端或服务器中使用此模块，请在请求和响应中使用 <a href="http://www.w3.org/Protocols/rfc2616/rfc2616-sec14.html#sec14.3">accept-encoding</a> 和 <a href="http://www.w3.org/Protocols/rfc2616/rfc2616-sec14.html#sec14.11">content-encoding</a> 头。

</p>
</div>

<div class="translate-section" data-hash="97873b3fd549519223aa44bd15c84b3b">

<p><strong>注意：这些例子只是极其简单地展示了基础的概念</strong> 
Zlib 编码消耗非常大,结果需要缓存.看下面的<a href="#zlib_memory_usage_tuning">内存调优</a>
中更多的关于Zlib用法中 速度/内存/压缩 的权衡取舍。

</p>
</div>

<div class="translate-section" data-hash="8cbec75ff1a126a554751c5f565c7223">

<pre><code>  // 注意: 这不是一个不合格的 accept-encoding 解析器
  // 详见 http://www.w3.org/Protocols/rfc2616/rfc2616-sec14.html#sec14.3
  if (acceptEncoding.match(/\bdeflate\b/)) {
    response.writeHead(200, { &apos;content-encoding&apos;: &apos;deflate&apos; });
    raw.pipe(zlib.createDeflate()).pipe(response);
  } else if (acceptEncoding.match(/\bgzip\b/)) {
    response.writeHead(200, { &apos;content-encoding&apos;: &apos;gzip&apos; });
    raw.pipe(zlib.createGzip()).pipe(response);
  } else {
    response.writeHead(200, {});
    raw.pipe(response);
  }
}).listen(1337);</code></pre>
</div>

<div class="translate-section" data-hash="c81df363479629802aab4311720d6735">

<h2>zlib.createGzip([options])<span><a href="#zlib_zlib_creategzip_options_552" id="zlib_zlib_creategzip_options_552">#</a></span></h2>
</div>

<div class="translate-section" data-hash="c383f415751a9baaf31cea85d79ac817">

<p>以 <a href="#zlib_options">options</a> 所给选项返回一个新的 <a href="#zlib_class_zlib_gzip">Gzip</a> 对象。

</p>
</div>

<div class="translate-section" data-hash="0ceb530871884d5b6bcbcb6d669fca25">

<h2>zlib.createGunzip([options])<span><a href="#zlib_zlib_creategunzip_options_552" id="zlib_zlib_creategunzip_options_552">#</a></span></h2>
</div>

<div class="translate-section" data-hash="1709df156fd166a20e94961b305d381e">

<p>以 <a href="#zlib_options">options</a> 所给选项返回一个新的 <a href="#zlib_class_zlib_gunzip">Gunzip</a> 对象。

</p>
</div>

<div class="translate-section" data-hash="9ecddacb6cdd2553dfb3a1c639f1acb0">

<h2>zlib.createDeflate([options])<span><a href="#zlib_zlib_createdeflate_options_552" id="zlib_zlib_createdeflate_options_552">#</a></span></h2>
</div>

<div class="translate-section" data-hash="cc48e768caeff2161dbb599e87ac0aed">

<p>以 <a href="#zlib_options">options</a> 所给选项返回一个新的 <a href="#zlib_class_zlib_deflate">Deflate</a> 对象。

</p>
</div>

<div class="translate-section" data-hash="def1a08d648caac6a14344e265842130">

<h2>zlib.createInflate([options])<span><a href="#zlib_zlib_createinflate_options_552" id="zlib_zlib_createinflate_options_552">#</a></span></h2>
</div>

<div class="translate-section" data-hash="c8f146c916b91c8b7282a4e2e9adbd77">

<p>以 <a href="#zlib_options">options</a> 所给选项返回一个新的 <a href="#zlib_class_zlib_inflate">Inflate</a> 对象。

</p>
</div>

<div class="translate-section" data-hash="0b99c6eeace3281b20d7a7f7e249cc56">

<h2>zlib.createDeflateRaw([options])<span><a href="#zlib_zlib_createdeflateraw_options_552" id="zlib_zlib_createdeflateraw_options_552">#</a></span></h2>
</div>

<div class="translate-section" data-hash="e9c2ec90dfa86dbafa9ac8ef9ecefe78">

<p>以 <a href="#zlib_options">options</a> 所给选项返回一个新的 <a href="#zlib_class_zlib_deflateraw">DeflateRaw</a> 对象。

</p>
</div>

<div class="translate-section" data-hash="ea3fe580c070b8d2db18cce72e4e5eb6">

<h2>zlib.createInflateRaw([options])<span><a href="#zlib_zlib_createinflateraw_options_552" id="zlib_zlib_createinflateraw_options_552">#</a></span></h2>
</div>

<div class="translate-section" data-hash="d792bebbd6e76d088f008d4d54e254e2">

<p>以 <a href="#zlib_options">options</a> 所给选项返回一个新的 <a href="#zlib_class_zlib_inflateraw">InflateRaw</a> 对象。

</p>
</div>

<div class="translate-section" data-hash="eb2c1693cd7f5c8ab6f483cdd35cef14">

<h2>zlib.createUnzip([options])<span><a href="#zlib_zlib_createunzip_options_552" id="zlib_zlib_createunzip_options_552">#</a></span></h2>
</div>

<div class="translate-section" data-hash="7f4e03042fdaf184a8d287bb960913f9">

<p>以 <a href="#zlib_options">options</a> 所给选项返回一个新的 <a href="#zlib_class_zlib_unzip">Unzip</a> 对象。

</p>
</div>

<div class="translate-section" data-hash="57ffe2a02c90347d624017f58b942f37">

<h2>类: zlib.Zlib<span><a href="#zlib_zlib_zlib_552" id="zlib_zlib_zlib_552">#</a></span></h2>
</div>

<div class="translate-section" data-hash="7608ec3377ec753634efcf0f09fc5e8a">

<p>这个类未被 <code>zlib</code> 模块导出，编入此文档是因为它是其它压缩器/解压缩器的基类。

</p>
</div>

<div class="translate-section" data-hash="665d6c381d4fd910aa8a2065fec8f640">

<h3>zlib.flush([kind], callback)<span><a href="#zlib_zlib_flush_kind_callback_552" id="zlib_zlib_flush_kind_callback_552">#</a></span></h3>
</div>

<div class="translate-section" data-hash="1e338b01eef26b8746cb7bcfc57e22d2">

<p><code>kind</code> 缺省为 <code>zlib.Z_FULL_FLUSH</code>。

</p>
</div>

<div class="translate-section" data-hash="82b0ddd46c91bf29137b28bac9b15fbe">

<p>写入缓冲数据。请勿轻易调用此方法，过早的写入会对压缩算法的作用产生影响。

</p>
</div>

<div class="translate-section" data-hash="d9b710656e231a6b0a25d16bd10af4ab">

<h3>zlib.params(level, strategy, callback)<span><a href="#zlib_zlib_params_level_strategy_callback_552" id="zlib_zlib_params_level_strategy_callback_552">#</a></span></h3>
</div>

<div class="translate-section" data-hash="82078e0b83de98f19cff138840f319e9">

<p>动态更新压缩级别和压缩策略。仅对 deflate 算法有效。

</p>
</div>

<div class="translate-section" data-hash="bfabf8a43f7953c2b3f4cb62f2432f4c">

<h3>zlib.reset()<span><a href="#zlib_zlib_reset_552" id="zlib_zlib_reset_552">#</a></span></h3>
</div>

<div class="translate-section" data-hash="1f4ad678f1ce182497c178157f1f8ae8">

<p>将压缩器/解压缩器重置为缺省值。仅对 inflate 和 deflate 算法有效。

</p>
</div>

<div class="translate-section" data-hash="055abd3b5529e03510c635752392c98f">

<h2>类: zlib.Gzip<span><a href="#zlib_zlib_gzip_552" id="zlib_zlib_gzip_552">#</a></span></h2>
</div>

<div class="translate-section" data-hash="6e8d974440a25c6ad7c7b1e4961e7d2b">

<p>使用 gzip 压缩数据。

</p>
</div>

<div class="translate-section" data-hash="481b98efebaf94b5529032b416d8b8e8">

<h2>类: zlib.Gunzip<span><a href="#zlib_zlib_gunzip_552" id="zlib_zlib_gunzip_552">#</a></span></h2>
</div>

<div class="translate-section" data-hash="edca5c0c48328fd9288e51fe6c136883">

<p>解压缩一个 gzip 流。

</p>
</div>

<div class="translate-section" data-hash="f32738ccf1a413604e399eb1e67c7cc6">

<h2>类: zlib.Deflate<span><a href="#zlib_zlib_deflate_552" id="zlib_zlib_deflate_552">#</a></span></h2>
</div>

<div class="translate-section" data-hash="3b5a1260ca41d09597f8ed92cd53a632">

<p>使用 deflate 压缩数据。

</p>
</div>

<div class="translate-section" data-hash="c59796a3dcd74562e03f2e89cf05c2e7">

<h2>类: zlib.Inflate<span><a href="#zlib_zlib_inflate_552" id="zlib_zlib_inflate_552">#</a></span></h2>
</div>

<div class="translate-section" data-hash="4b63a2d0a91dc4f3a2b41b80c57a8bed">

<p>解压缩一个 deflate 流。

</p>
</div>

<div class="translate-section" data-hash="2a5228f297ad7649a0807de4a091e8c7">

<h2>类: zlib.DeflateRaw<span><a href="#zlib_zlib_deflateraw_552" id="zlib_zlib_deflateraw_552">#</a></span></h2>
</div>

<div class="translate-section" data-hash="b11f1c8cb2549ad151f1c046c2ce9984">

<p>使用 deflate 压缩数据，并且不附带 zlib 头。

</p>
</div>

<div class="translate-section" data-hash="be4950b9ba7fb0874eee87bf54a5629c">

<h2>类: zlib.InflateRaw<span><a href="#zlib_zlib_inflateraw_552" id="zlib_zlib_inflateraw_552">#</a></span></h2>
</div>

<div class="translate-section" data-hash="94cafbebcaf167f0e98a1e86fc5b8abd">

<p>解压缩一个原始 deflate 流。

</p>
</div>

<div class="translate-section" data-hash="6ddee3c88e452bb69e42eed39957bf32">

<h2>类: zlib.Unzip<span><a href="#zlib_zlib_unzip_552" id="zlib_zlib_unzip_552">#</a></span></h2>
</div>

<div class="translate-section" data-hash="6180df00d587838458ca0287eeb844b5">

<p>自动识别头部来解压缩一个以 gzip 或 deflate 压缩的流。

</p>
</div>

<div class="translate-section" data-hash="d077ff29e385e4ba78b8ce675afa330a">

<h2>快捷方法<span><a href="#zlib_2761" id="zlib_2761">#</a></span></h2>
</div>

<!--type=misc-->

<div class="translate-section" data-hash="2915347767cd94b80c721e95d7e33a18">

<p>所有这些方法的第一个参数都可以是字符串或 Buffer；可选地可以将传给 zlib 类的选项作为第二个参数传入；回调格式为 <code>callback(error, result)</code>。

</p>
</div>

<div class="translate-section" data-hash="9f9bde3bdb21f681489afe298c7699ad">

<h2>zlib.deflate(buf, [options], callback)<span><a href="#zlib_zlib_deflate_buf_options_callback_552" id="zlib_zlib_deflate_buf_options_callback_552">#</a></span></h2>
</div>

<div class="translate-section" data-hash="c5a9c24e90a7002cb0f7e3ef03da5ff7">

<p>使用 Deflate 压缩一个字符串。

</p>
</div>

<div class="translate-section" data-hash="de142b8871705734ca161c0a70a2bda0">

<h2>zlib.deflateRaw(buf, [options], callback)<span><a href="#zlib_zlib_deflateraw_buf_options_callback_552" id="zlib_zlib_deflateraw_buf_options_callback_552">#</a></span></h2>
</div>

<div class="translate-section" data-hash="35a0f10e68c4ac75b2533eed06278dd0">

<p>使用 DeflateRaw 压缩一个字符串。

</p>
</div>

<div class="translate-section" data-hash="d7dc22d860361870bd1927e8f27d7b0a">

<h2>zlib.Gzip(buf, [options], callback)<span><a href="#zlib_zlib_gzip_buf_options_callback_552" id="zlib_zlib_gzip_buf_options_callback_552">#</a></span></h2>
</div>

<div class="translate-section" data-hash="e8db29db9567292d48162b677192b427">

<p>使用 Gzip 压缩一个字符串。

</p>
</div>

<div class="translate-section" data-hash="8404da964ed883860565db01f83305ef">

<h2>zlib.gunzip(buf, [options], callback)<span><a href="#zlib_zlib_gunzip_buf_options_callback_552" id="zlib_zlib_gunzip_buf_options_callback_552">#</a></span></h2>
</div>

<div class="translate-section" data-hash="744703546c769003e518b1d596d20dcb">

<p>使用 Gunzip 解压缩一个原始的 Buffer。

</p>
</div>

<div class="translate-section" data-hash="b7b1ef11e38a7ad699881e18b79cfd50">

<h2>zlib.inflate(buf, [options], callback)<span><a href="#zlib_zlib_inflate_buf_options_callback_552" id="zlib_zlib_inflate_buf_options_callback_552">#</a></span></h2>
</div>

<div class="translate-section" data-hash="57c8fd6172385452e0e2bc203535adc9">

<p>使用 Inflate 解压缩一个原始的 Buffer。

</p>
</div>

<div class="translate-section" data-hash="acd3d57df5bd158d07e024db32c8f408">

<h2>zlib.inflateRaw(buf, [options], callback)<span><a href="#zlib_zlib_inflateraw_buf_options_callback_552" id="zlib_zlib_inflateraw_buf_options_callback_552">#</a></span></h2>
</div>

<div class="translate-section" data-hash="02626ec9ec23a275ee2e3f0ff9ae1b54">

<p>使用 InflateRaw 解压缩一个原始的 Buffer。

</p>
</div>

<div class="translate-section" data-hash="004264dad6a7bda7aa1f927dccf409b1">

<h2>zlib.unzip(buf, [options], callback)<span><a href="#zlib_zlib_unzip_buf_options_callback_552" id="zlib_zlib_unzip_buf_options_callback_552">#</a></span></h2>
</div>

<div class="translate-section" data-hash="3866fab01224cc32a853e88c91dd8db1">

<p>使用 Unzip 解压缩一个原始的 Buffer。

</p>
</div>

<div class="translate-section" data-hash="58448a17153bd04657b54a94faf3036b">

<h2>选项<span><a href="#zlib_2762" id="zlib_2762">#</a></span></h2>
</div>

<!--type=misc-->

<div class="translate-section" data-hash="da118eea40fcb68c038b487bcf4526f1">

<p>各个类都有一个选项对象。所有选项都是可选的。

</p>
</div>

<div class="translate-section" data-hash="7bfb2ddc4ea29eb992f3af6b66b69fab">

<p>请注意有些选项仅对压缩有效，并会被解压缩类所忽略。

</p>
</div>

<div class="translate-section" data-hash="0a5f3f6e3508e934a73ba165c649b378">

<ul>
<li>flush（缺省：<code>zlib.Z_NO_FLUSH</code>）</li>
<li>chunkSize（缺省：16*1024）</li>
<li>windowBits</li>
<li>level（仅用于压缩）</li>
<li>memLevel（仅用于压缩）</li>
<li>strategy（仅用于压缩）</li>
<li>dictionary（仅用于 deflate/inflate，缺省为空目录）</li>
</ul>
</div>

<div class="translate-section" data-hash="270fa4270176987fc356367dea2d855c">

<p>详情请参阅 <a href="http://zlib.net/manual.html#Advanced">http://zlib.net/manual.html#Advanced</a> 的 <code>deflateInit2</code> 和 <code>inflateInit2</code>。

</p>
</div>

<div class="translate-section" data-hash="b609a43553df6130beadb981a8843ba8">

<h2>内存使用调优<span><a href="#zlib_2763" id="zlib_2763">#</a></span></h2>
</div>

<!--type=misc-->

<div class="translate-section" data-hash="16197015a17b66ee5c3f7c31a6a93b6f">

<p>来自 <code>zlib/zconf.h</code>，修改为 node 的用法：

</p>
</div>

<div class="translate-section" data-hash="29be5054784b0b152ae9c67a81f06a35">

<p>deflate 的内存需求（按字节）：

</p>
</div>

<div class="translate-section" data-hash="588d501f3c5b2b841db947e8de6b6fd8">

<pre><code>(1 &lt;&lt; (windowBits+2)) +  (1 &lt;&lt; (memLevel+9))</code></pre>
</div>

<div class="translate-section" data-hash="9630ab4de15a075e69374cb96bbff624">

<p>表示：windowBits = 15 的 128K + memLevel = 8 的 128K（缺省值）加上其它对象的若干 KB。

</p>
</div>

<div class="translate-section" data-hash="b0b6fcd3529101e1655814bf8eead650">

<p>举个例子，如果您需要将缺省内存需求从 256K 减少到 128K，设置选项：

</p>
</div>

<div class="translate-section" data-hash="e2ff8399180b7b765927c665d7dc6a9e">

<pre><code>{ windowBits: 14, memLevel: 7 }</code></pre>
</div>

<div class="translate-section" data-hash="dcbef966f4fae228056bb023001cd244">

<p>当然这通常会降低压缩等级（天底下没有免费午餐）。

</p>
</div>

<div class="translate-section" data-hash="caeb181f75569635c616306734064403">

<p>inflate 的内存需求（按字节）：

</p>
</div>

<div class="translate-section" data-hash="1b7d97904c0bc5b1245b6ec7132ed049">

<pre><code>1 &lt;&lt; windowBits</code></pre>
</div>

<div class="translate-section" data-hash="6eb73e8f17030c643afec656edfcd386">

<p>表示 windowBits = 15（缺省值）的 32K 加上其它对象的若干 KB。

</p>
</div>

<div class="translate-section" data-hash="3cfc783eb639a5eb5e33becf5d3cf664">

<p>这是除了内部输出缓冲外 <code>chunkSize</code> 的大小，缺省为 16K。

</p>
</div>

<div class="translate-section" data-hash="e1b5ab0444d46bc567e4bbad499c4e3b">

<p>zlib 压缩的速度主要受压缩级别 <code>level</code> 的影响。更高的压缩级别会有更好的压缩率，但也要花费更长时间。更低的压缩级别会有较低压缩率，但速度更快。

</p>
</div>

<div class="translate-section" data-hash="f1fb7a455eb8e4c2b55d850dab9b5b9d">

<p>通常，使用更多内存的选项意味着 node 能减少对 zlib 的调用，因为单次 <code>write</code>操作能处理更多数据。因此，这是另一个影响速度和内存占用的因素。

</p>
</div>

<div class="translate-section" data-hash="0dc64c9b4cbf80f6107fd573c86f1110">

<h2>常量<span><a href="#zlib_2764" id="zlib_2764">#</a></span></h2>
</div>

<!--type=misc-->

<div class="translate-section" data-hash="f75443d160b31d0d39e134ed4e8d2d54">

<p>所有在 zlib.h 中定义的常量同样也定义在 <code>require(&apos;zlib&apos;)</code> 中。
在通常情况下您几乎不会用到它们，编入文档只是为了让您不会对它们的存在感到惊讶。该章节几乎完全来自 <a href="http://zlib.net/manual.html#Constants">zlib 的文档</a>。详见 <a href="http://zlib.net/manual.html#Constants">http://zlib.net/manual.html#Constants</a>。

</p>
</div>

<div class="translate-section" data-hash="8fff4a5cdd2bfd6fbf75d81e812f3d2c">

<p>允许的 flush 取值。

</p>
</div>

<div class="translate-section" data-hash="c089c8231eea03806fc9cd64417d3bea">

<ul>
<li><code>zlib.Z_NO_FLUSH</code></li>
<li><code>zlib.Z_PARTIAL_FLUSH</code></li>
<li><code>zlib.Z_SYNC_FLUSH</code></li>
<li><code>zlib.Z_FULL_FLUSH</code></li>
<li><code>zlib.Z_FINISH</code></li>
<li><code>zlib.Z_BLOCK</code></li>
<li><code>zlib.Z_TREES</code></li>
</ul>
</div>

<div class="translate-section" data-hash="55343110bf806c47a19d7c6eb9ed8d30">

<p>压缩/解压缩函数的返回值。负数代表错误，正数代表特殊但正常的事件。

</p>
</div>

<div class="translate-section" data-hash="82785ecbd5561f6ef3448068f25a4938">

<ul>
<li><code>zlib.Z_OK</code></li>
<li><code>zlib.Z_STREAM_END</code></li>
<li><code>zlib.Z_NEED_DICT</code></li>
<li><code>zlib.Z_ERRNO</code></li>
<li><code>zlib.Z_STREAM_ERROR</code></li>
<li><code>zlib.Z_DATA_ERROR</code></li>
<li><code>zlib.Z_MEM_ERROR</code></li>
<li><code>zlib.Z_BUF_ERROR</code></li>
<li><code>zlib.Z_VERSION_ERROR</code></li>
</ul>
</div>

<div class="translate-section" data-hash="feb7f6b974c1d4836f0820412c73c73d">

<p>压缩级别。

</p>
</div>

<div class="translate-section" data-hash="240e8943c558398c484ec7d356cbce10">

<ul>
<li><code>zlib.Z_NO_COMPRESSION</code></li>
<li><code>zlib.Z_BEST_SPEED</code></li>
<li><code>zlib.Z_BEST_COMPRESSION</code></li>
<li><code>zlib.Z_DEFAULT_COMPRESSION</code></li>
</ul>
</div>

<div class="translate-section" data-hash="9bef944ec373dfd0f01093d93d8ada49">

<p>压缩策略。

</p>
</div>

<div class="translate-section" data-hash="104b327583ddcba781e8c66e0bf3ed10">

<ul>
<li><code>zlib.Z_FILTERED</code></li>
<li><code>zlib.Z_HUFFMAN_ONLY</code></li>
<li><code>zlib.Z_RLE</code></li>
<li><code>zlib.Z_FIXED</code></li>
<li><code>zlib.Z_DEFAULT_STRATEGY</code></li>
</ul>
</div>

<div class="translate-section" data-hash="52c16e05f63e065aa1ef8cd134799a7f">

<p>data_type 字段的可能值。

</p>
</div>

<div class="translate-section" data-hash="9bfd8a0a296e5809b9c31f657198cefc">

<ul>
<li><code>zlib.Z_BINARY</code></li>
<li><code>zlib.Z_TEXT</code></li>
<li><code>zlib.Z_ASCII</code></li>
<li><code>zlib.Z_UNKNOWN</code></li>
</ul>
</div>

<div class="translate-section" data-hash="b42ea60163512c5a6bb046bafc92e497">

<p>deflate 压缩方法（该版本仅支持一种）。

</p>
</div>

<div class="translate-section" data-hash="8a85c48acc98381b50d7360e34a47d98">

<ul>
<li><code>zlib.Z_DEFLATED</code></li>
</ul>
</div>

<div class="translate-section" data-hash="a3baaa52bc5a140efe20955554affb28">

<p>初始化 zalloc/zfree/opaque。

</p>
</div>

<div class="translate-section" data-hash="6d5da2e71de58b52f079eedc2a160e24">

<ul>
<li><code>zlib.Z_NULL</code></li>
</ul>
</div>
          </div>
        </div>
    </div>
    <div id="footer">
        <a href="http://joyent.com" class="joyent-logo">Joyent</a>
        <ul class="clearfix">
            <li><a href="http://nodejs.org/">Node.js</a></li>
            <li><a href="http://nodejs.org/download/">Download</a></li>
            <li><a href="http://nodejs.org/about/">About</a></li>
            <li><a href="http://npmjs.org/">npm Registry</a></li>
            <li><a href="http://nodejs.org/api/">Docs</a></li>
            <li><a href="http://blog.nodejs.org">Blog</a></li>
            <li><a href="http://nodejs.org/community/">Community</a></li>
            <li><a href="http://nodejs.org/logos/">Logos</a></li>
            <li><a href="http://jobs.nodejs.org/">Jobs</a></li>
            <li><a href="http://twitter.com/nodejs" class="twitter">@nodejs</a></li>
        </ul>

        <p>Copyright <a href="http://joyent.com/">Joyent, Inc</a>, Node.js is a <a href="/trademark-policy.pdf">trademark</a> of Joyent, Inc. View <a href="https://raw.github.com/joyent/node/v0.10.18/LICENSE">license</a>.</p>
    </div>

  <script src="/public/api_assets/sh_main.js"></script>
  <script src="/public/api_assets/sh_javascript.min.js"></script>
  <script>highlight(undefined, undefined, 'pre');</script>
</body>
</html>

<!-- google analytics -->
<script type="text/javascript">
  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-26599868-1']);
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();
</script>

<script src="/public/js/jquery.js"></script>
<script>
$('.translate-section').each(function () {
  var html = '<div class="op">' +
               '<button class="show-origin">显示原文</button>' +
               '<button class="btn btn-xs btn-info">其他翻译</button>' +
               '<button class="btn btn-xs btn-info">纠错</button>' +
              '</div>';
  $(this).prepend(html);
});

// 显示原文
$('.translate-section').delegate('.show-origin', 'click', function () {
  var $section = $(this).closest('.translate-section');
  var hash = $section.data('hash');
  $.get('/translate/get/origin', {hash: hash}, function (d) {
    if (d.error) return alert(d.error);

    $section.find('.origin').remove();
    $section.append('<div class="origin">' + d.html + '</div>');
    highlight(undefined, undefined, 'code');
  });
});
</script>